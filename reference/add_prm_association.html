<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Describe parameter associations — add_prm_association • xpose.xtras</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Describe parameter associations — add_prm_association"><meta name="description" content="The relationship between structural parameters and
omega parameters can be described. This is useful if
it deviates from the typical log-normal.
Default transformations are those that are built into
pmxcv, but see examples for how associations can be
described for other relationships."><meta property="og:description" content="The relationship between structural parameters and
omega parameters can be described. This is useful if
it deviates from the typical log-normal.
Default transformations are those that are built into
pmxcv, but see examples for how associations can be
described for other relationships."><meta property="og:image" content="https://jprybylski.github.io/xpose.xtras/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">xpose.xtras</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/a01-the-xp_xtra-object.html">The extended xpose data object</a></li>
    <li><a class="dropdown-item" href="../articles/a02-xpose-sets.html">Using xpose sets</a></li>
    <li><a class="dropdown-item" href="../articles/a03-useful_plots.html">Useful uncommon plots</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jprybylski/xpose.xtras/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Describe parameter associations</h1>
      <small class="dont-index">Source: <a href="https://github.com/jprybylski/xpose.xtras/blob/master/R/xtra_pars.R" class="external-link"><code>R/xtra_pars.R</code></a></small>
      <div class="d-none name"><code>add_prm_association.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The relationship between structural parameters and
omega parameters can be described. This is useful if
it deviates from the typical log-normal.</p>
<p>Default transformations are those that are built into
<code>pmxcv</code>, but see examples for how associations can be
described for other relationships.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_prm_association</span><span class="op">(</span><span class="va">xpdb</span>, <span class="va">...</span>, <span class="va">.problem</span>, <span class="va">.subprob</span>, <span class="va">.method</span>, <span class="va">quiet</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">drop_prm_association</span><span class="op">(</span><span class="va">xpdb</span>, <span class="va">...</span>, <span class="va">.problem</span>, <span class="va">.subprob</span>, <span class="va">.method</span>, <span class="va">quiet</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-xpdb">xpdb<a class="anchor" aria-label="anchor" href="#arg-xpdb"></a></dt>
<dd><p>&lt;<code>xp_xtras</code>&gt; object</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>... &lt;<code><a href="https://rlang.r-lib.org/reference/dyn-dots.html" class="external-link">dynamic-dots</a></code>&gt; One or more formulas that
define associations between parameters. One list of formulas can also be used,
but a warning is generated.</p>
<p>For <code>drop_prm_association</code>, these dots should be selectors for which associations
will be dropped (<code>the2, the3,...</code>). Fixed effect selectors only will work.</p></dd>


<dt id="arg--problem">.problem<a class="anchor" aria-label="anchor" href="#arg--problem"></a></dt>
<dd><p>&lt;<code>numeric</code>&gt; Problem number to apply this relationship.</p></dd>


<dt id="arg--subprob">.subprob<a class="anchor" aria-label="anchor" href="#arg--subprob"></a></dt>
<dd><p>&lt;<code>numeric</code>&gt; Problem number to apply this relationship.</p></dd>


<dt id="arg--method">.method<a class="anchor" aria-label="anchor" href="#arg--method"></a></dt>
<dd><p>&lt;<code>numeric</code>&gt; Problem number to apply this relationship.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>Silence extra output.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An updated <code>xp_xtras</code> object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>At time of writing, the built-in distributions for <code>pmxcv</code> are below.
Those marked with an asterisk require a fixed effect parameter to calculate CV.</p><ul><li><p><code>log</code> typical log-normal. Optional <code>exact</code> parameter (if <code>TRUE</code>, default, will not
calculate with integration); this is unrelated to the <code>cvtype</code> option. <strong>Note</strong>,
if <code>cvtype</code> is set to <code>"sqrt"</code>, log-normal <code>gte_prm</code> CVs will use the square root, not any integration
or analytical estimate, regardless of how this association is specified..</p></li>
<li><p><code>logexp</code>* modified log-normal <code>log(1+X)</code></p></li>
<li><p><code>logit</code>* logit-normal</p></li>
<li><p><code>arcsin</code>* arcsine-transform</p></li>
<li><p><code>nmboxcox</code>* Box-Cox transform as typically implemented in pharmacometrics.
Requires a <code>lambda</code> parameter.</p></li>
</ul><p>To pass a custom parameter, use <code>custom</code> transform, and pass <code>pdist</code> and <code>qdist</code> to
that transform. See Examples.</p>
<p>Reminder about <code>qdist</code> and <code>pdist</code>: Consider that <code>qlogis</code> transforms a proportion
to a continuous, unbounded number; it is the <code>logit</code> transform. The <code>pdist</code> function
converts a continuous, unbounded number to a proportion; it is the <em>inverse</em> <code>logit</code>
transform. Other R <code>stats</code> functions work similarly, and as such functions used as
<code>qdist</code> and <code>pdist</code> values are expected to act similarly.</p>
<p>Note that the functions used in describing associations are not real functions,
it is just the syntax for this application. Based on examples, be mindful of
where positional arguments would acceptable and where named arguments are
required. Care has been given to provide a modest amount of flexibility
with informative errors for fragile points, but not every error can be anticipated.
If this function or downstream results from it seem wrong, the association syntax
should be scrutinized. These "functions" are not processed like in <code><a href="mutate_prm.html">mutate_prm</a></code>,
so (eg) <code>the2</code> will not be substituted for the value of <code>the2</code>; if
<code>lambda</code> is a fitted value (like <code>the2</code>), in that edge case the value of <code>the2</code> should be written
explicitly in the association formula, and if any <code>mutate_prm</code> changes <code>the2</code> then users
should be mindful of the new association needed. This may be updated in the future.</p>
<p>Format for associations is:
<code>LHS~fun(OMEGA, args...)</code></p>
<ul><li><p>LHS: Selector for a fixed effect parameter. Can be <code>the{m}</code> (eg, the1),
<code>{name}</code> (eg, THETA1) or <code>{label}</code> (eg, TVCL). These should <em>not</em> be quoted.
Multiple associations can be defined at once with <code>+</code>. Cannot be empty.</p></li>
<li><p>RHS: Should be a simple call to only one function, which should be
custom or one of the built-in distributions or <code>custom(...)</code>. A lot of things
can look like simple calls, so may not break immediately; keep to the described
format and everything should be fine.</p></li>
<li><p>RHS OMEGA: Selector for omega variable. Similar rules to the fixed
effect selector. Can be <code>ome{m}</code>, <code>{name}</code> or <code>{label}</code>, limited to diagonal
elements. Should <em>not</em> be quoted. <code>OMEGA</code> is not a named argument (<code>OMEGA={selector}</code>
should <strong>not</strong> be considered valid); whatever is used as the first argument to the
"function" will be considered an OMEGA selector. <strong>NOTE</strong>, if selecting an OMEGA parameter
by name (eg, <code>OMEGA(2,2)</code>), backticks (eg <code>`OMEGA(2,2)`</code>) must be used or else the selection will throw
an error.</p></li>
<li><p>RHS args: Applies when the distribution has extra arguments. If these
are limited to 1, can be passed by position (eg, <code>lambda</code> for <code>nmboxcox</code> and
<code>exact</code> for <code>log</code>). For <code>custom()</code>, <code>qdist</code>, <code>pdist</code> and any arguments needed to
pass to them should be named.</p></li>
</ul><p>For the <code>nmboxcox</code> transformation, a lambda value (especially negative ones) may
not work well with the integration-based CV estimation. This may occur even if
the lambda is fitted and stable in that fitting, but it cannot be predicted which
ones will be affected. This note is intended to forewarn that this might happen.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Prybylski, J.P. Reporting Coefficient of Variation for Logit, Box-Cox and
Other Non-log-normal Parameters. Clin Pharmacokinet 63, 133-135 (2024).
https://doi.org/10.1007/s40262-023-01343-2</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/pmxcv/man/dist.intcv.html" class="external-link">dist.intcv</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pheno_base</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="fu">add_prm_association</span><span class="op">(</span><span class="va">the1</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">IIVCL</span><span class="op">)</span>,<span class="va">V</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">IIVV</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="get_prm.html">get_prm</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># get_prm is the only way to see the effect of associations</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Returning parameter estimates from $prob no.1, subprob no.1, method foce</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8 × 12</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type  name      label  value       se     rse fixed diagonal     m     n    cv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;num:&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;num:3&gt;</span> <span style="color: #949494; font-style: italic;">&lt;num:3&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;num&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> the   THETA1    <span style="color: #949494;">"</span>CL<span style="color: #949494;">"</span>  0.006<span style="text-decoration: underline;">8</span>  5.12<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span>  0.075<span style="text-decoration: underline;">3</span> FALSE <span style="color: #BB0000;">NA</span>           1    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> the   THETA2    <span style="color: #949494;">"</span>V<span style="color: #949494;">"</span>   1.4     7.56<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.053<span style="text-decoration: underline;">8</span> FALSE <span style="color: #BB0000;">NA</span>           2    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> the   THETA3    <span style="color: #949494;">"</span>RUV… 2.86    4.46<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span>  0.156  FALSE <span style="color: #BB0000;">NA</span>           3    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> the   THETA4    <span style="color: #949494;">"</span>RUV… 0      <span style="color: #BB0000;">NA</span>   <span style="color: #949494;"> </span>   <span style="color: #BB0000;">NA</span>      TRUE  <span style="color: #BB0000;">NA</span>           4    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> ome   OMEGA(1,… <span style="color: #949494;">"</span>IIV… 0.489   7.64<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.156  FALSE TRUE         1     1  52.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> ome   OMEGA(2,… <span style="color: #949494;">""</span>    0.998   1.24<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span>  0.125  FALSE FALSE        2     1  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> ome   OMEGA(2,… <span style="color: #949494;">"</span>IIV… 0.393   5.32<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.135  FALSE TRUE         2     2  40.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> sig   SIGMA(1,… <span style="color: #949494;">""</span>    1      <span style="color: #BB0000;">NA</span>   <span style="color: #949494;"> </span>   <span style="color: #BB0000;">NA</span>      TRUE  TRUE         1     1  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable: shk &lt;num:3&gt;</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># Parameter table includes the following associations: </span><span style="color: #555555; font-weight: bold;">CL~log(IIVCL)</span><span style="color: #555555;"> and</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #555555; font-weight: bold;">V~log(IIVV)</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># These values are not fitted as logit-normal, but</span></span></span>
<span class="r-in"><span><span class="co"># just to illustrate:</span></span></span>
<span class="r-in"><span><span class="va">pheno_final</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="fu">add_prm_association</span><span class="op">(</span><span class="va">the1</span><span class="op">~</span><span class="fu">logit</span><span class="op">(</span><span class="va">IIVCL</span><span class="op">)</span>,<span class="va">Vpkg</span><span class="op">~</span><span class="fu">logit</span><span class="op">(</span><span class="va">IIVV</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="get_prm.html">get_prm</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Returning parameter estimates from $prob no.1, subprob no.1, method foce</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 7 × 12</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type  name       label     value        se      rse fixed diagonal     m     n</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;num:4&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;num:4&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;num:4&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> the   THETA1     <span style="color: #949494;">"</span>CLpk… 0.004<span style="text-decoration: underline;">813</span>  2.365<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span>  0.049<span style="text-decoration: underline;">14</span> FALSE <span style="color: #BB0000;">NA</span>           1    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> the   THETA2     <span style="color: #949494;">"</span>Vpkg<span style="color: #949494;">"</span> 0.996<span style="text-decoration: underline;">4</span>    2.642<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.026<span style="text-decoration: underline;">52</span> FALSE <span style="color: #BB0000;">NA</span>           2    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> the   THETA3     <span style="color: #949494;">"</span>RUVA… 2.784     2.513<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span>  0.090<span style="text-decoration: underline;">27</span> FALSE <span style="color: #BB0000;">NA</span>           3    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> ome   OMEGA(1,1) <span style="color: #949494;">"</span>IIVC… 0.200<span style="text-decoration: underline;">9</span>    5.108<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.254<span style="text-decoration: underline;">3</span>  FALSE TRUE         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> ome   OMEGA(2,1) <span style="color: #949494;">""</span>     0.723<span style="text-decoration: underline;">6</span>    2.654<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span>  0.366<span style="text-decoration: underline;">8</span>  FALSE FALSE        2     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> ome   OMEGA(2,2) <span style="color: #949494;">"</span>IIVV<span style="color: #949494;">"</span> 0.157<span style="text-decoration: underline;">6</span>    2.614<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.165<span style="text-decoration: underline;">9</span>  FALSE TRUE         2     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> sig   SIGMA(1,1) <span style="color: #949494;">""</span>     1        <span style="color: #BB0000;">NA</span>    <span style="color: #949494;"> </span>   <span style="color: #BB0000;">NA</span>       TRUE  TRUE         1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: cv &lt;num:4&gt;, shk &lt;num:4&gt;</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># Parameter table includes the following associations: </span><span style="color: #555555; font-weight: bold;">CLpkg~logit(IIVCL)</span><span style="color: #555555;"> and</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #555555; font-weight: bold;">Vpkg~logit(IIVV)</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ... same for Box-Cox</span></span></span>
<span class="r-in"><span><span class="va">pheno_base</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="fu">add_prm_association</span><span class="op">(</span><span class="va">V</span><span class="op">~</span><span class="fu">nmboxcox</span><span class="op">(</span><span class="va">IIVV</span>, lambda<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="co"># Naming the argument is optional</span></span></span>
<span class="r-in"><span>   <span class="fu">add_prm_association</span><span class="op">(</span><span class="va">CL</span><span class="op">~</span><span class="fu">nmboxcox</span><span class="op">(</span><span class="va">IIVCL</span>, <span class="op">-</span><span class="fl">0.1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="get_prm.html">get_prm</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Returning parameter estimates from $prob no.1, subprob no.1, method foce</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8 × 12</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type  name      label  value       se     rse fixed diagonal     m     n    cv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;num:&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;num:3&gt;</span> <span style="color: #949494; font-style: italic;">&lt;num:3&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;num&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> the   THETA1    <span style="color: #949494;">"</span>CL<span style="color: #949494;">"</span>  0.006<span style="text-decoration: underline;">8</span>  5.12<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span>  0.075<span style="text-decoration: underline;">3</span> FALSE <span style="color: #BB0000;">NA</span>           1    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> the   THETA2    <span style="color: #949494;">"</span>V<span style="color: #949494;">"</span>   1.4     7.56<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.053<span style="text-decoration: underline;">8</span> FALSE <span style="color: #BB0000;">NA</span>           2    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> the   THETA3    <span style="color: #949494;">"</span>RUV… 2.86    4.46<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span>  0.156  FALSE <span style="color: #BB0000;">NA</span>           3    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> the   THETA4    <span style="color: #949494;">"</span>RUV… 0      <span style="color: #BB0000;">NA</span>   <span style="color: #949494;"> </span>   <span style="color: #BB0000;">NA</span>      TRUE  <span style="color: #BB0000;">NA</span>           4    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> ome   OMEGA(1,… <span style="color: #949494;">"</span>IIV… 0.489   7.64<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.156  FALSE TRUE         1     1  54.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> ome   OMEGA(2,… <span style="color: #949494;">""</span>    0.998   1.24<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span>  0.125  FALSE FALSE        2     1  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> ome   OMEGA(2,… <span style="color: #949494;">"</span>IIV… 0.393   5.32<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.135  FALSE TRUE         2     2  38.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> sig   SIGMA(1,… <span style="color: #949494;">""</span>    1      <span style="color: #BB0000;">NA</span>   <span style="color: #949494;"> </span>   <span style="color: #BB0000;">NA</span>      TRUE  TRUE         1     1  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable: shk &lt;num:3&gt;</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># Parameter table includes the following associations: </span><span style="color: #555555; font-weight: bold;">CL~nmboxcox(IIVCL)</span><span style="color: #555555;"> and</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #555555; font-weight: bold;">V~nmboxcox(IIVV)</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A 'custom' use-case is when logexp, log(1+X), is</span></span></span>
<span class="r-in"><span><span class="co"># desired but 1 is too large.</span></span></span>
<span class="r-in"><span><span class="co"># Again, for this example, treating this like it applies here.</span></span></span>
<span class="r-in"><span><span class="va">pheno_base</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">add_prm_association</span><span class="op">(</span><span class="va">V</span><span class="op">~</span><span class="fu">custom</span><span class="op">(</span><span class="va">IIVV</span>, qdist<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.001</span><span class="op">+</span><span class="va">x</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        pdist<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">-</span><span class="fl">0.001</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="get_prm.html">get_prm</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Returning parameter estimates from $prob no.1, subprob no.1, method foce</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8 × 12</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   type  name      label  value       se     rse fixed diagonal     m     n    cv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;num:&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;num:3&gt;</span> <span style="color: #949494; font-style: italic;">&lt;num:3&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;num&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> the   THETA1    <span style="color: #949494;">"</span>CL<span style="color: #949494;">"</span>  0.006<span style="text-decoration: underline;">8</span>  5.12<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span>  0.075<span style="text-decoration: underline;">3</span> FALSE <span style="color: #BB0000;">NA</span>           1    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> the   THETA2    <span style="color: #949494;">"</span>V<span style="color: #949494;">"</span>   1.4     7.56<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.053<span style="text-decoration: underline;">8</span> FALSE <span style="color: #BB0000;">NA</span>           2    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> the   THETA3    <span style="color: #949494;">"</span>RUV… 2.86    4.46<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span>  0.156  FALSE <span style="color: #BB0000;">NA</span>           3    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> the   THETA4    <span style="color: #949494;">"</span>RUV… 0      <span style="color: #BB0000;">NA</span>   <span style="color: #949494;"> </span>   <span style="color: #BB0000;">NA</span>      TRUE  <span style="color: #BB0000;">NA</span>           4    <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> ome   OMEGA(1,… <span style="color: #949494;">"</span>IIV… 0.489   7.64<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.156  FALSE TRUE         1     1  52.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> ome   OMEGA(2,… <span style="color: #949494;">""</span>    0.998   1.24<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span>  0.125  FALSE FALSE        2     1  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> ome   OMEGA(2,… <span style="color: #949494;">"</span>IIV… 0.393   5.32<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span>  0.135  FALSE TRUE         2     2  41.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> sig   SIGMA(1,… <span style="color: #949494;">""</span>    1      <span style="color: #BB0000;">NA</span>   <span style="color: #949494;"> </span>   <span style="color: #BB0000;">NA</span>      TRUE  TRUE         1     1  <span style="color: #BB0000;">NA</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable: shk &lt;num:3&gt;</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># Parameter table includes the following associations: </span><span style="color: #555555; font-weight: bold;">V~custom(IIVV)</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dropping association is easy</span></span></span>
<span class="r-in"><span><span class="va">bad_assoc</span> <span class="op">&lt;-</span> <span class="va">pheno_final</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="fu">add_prm_association</span><span class="op">(</span><span class="va">the1</span><span class="op">~</span><span class="fu">logit</span><span class="op">(</span><span class="va">IIVCL</span><span class="op">)</span>,<span class="va">Vpkg</span><span class="op">~</span><span class="fu">logit</span><span class="op">(</span><span class="va">IIVV</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bad_assoc</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="color: #BB00BB; font-weight: bold;">~</span><span style="color: #BB00BB;"> xp_xtras</span> object </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Model description</span>: na</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> run16.lst overview: </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  - Software: nonmem 7.5.0 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  - Attached files (memory usage 484.3 Kb): </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>    + obs tabs: $prob no.1: run16tab </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>    + sim tabs: &lt;none&gt; </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>    + output files: run16.cor, run16.cov, run16.ext, run16.grd, run16.phi, run16.shk </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>    + special: &lt;none&gt; </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  - gg_theme: theme_readable </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  - xp_theme: xp_xtra_theme new_x$xp_theme </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  - Options: dir = ~/Step 3/Step 5/Step 6/Step 9/Step 14/Step 16, quiet = FALSE, manual_import = NULL, cvtype = exact</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Prybylski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

